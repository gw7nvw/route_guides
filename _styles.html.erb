function init_styles() {
style_pt_default = {strokeColor: "red", strokeOpacity: "0.7", strokeWidth: 3, cursor: "pointer", pointRadius: 4, fillColor: "red", graphicName: "circle", title: '${name}'};

var sty = OpenLayers.Util.applyDefaults(style_pt_default, OpenLayers.Feature.Vector.style["default"]);
pt_styleMap = new OpenLayers.StyleMap({
            'default': sty,
            'select': {strokeColor: "pink", fillColor: "pink"}
        });

    layer_style = OpenLayers.Util.extend({}, OpenLayers.Feature.Vector.style['default']);
    layer_style.fillOpacity = 0.2;
    layer_style.graphicOpacity = 1;
    layer_style.strokeWidth = 2;
    layer_style.strokeColor = "red";
    layer_style.fillColor = "red";

<% pts=PlaceType.all %>

<% pts.each do |pt| %>
  <%safe_name = pt.name.gsub(/\s+/, "")%>
  <%="style_"+safe_name%> = OpenLayers.Util.extend({}, layer_style);
  <%="style_"+safe_name%>.strokeColor = '<%=pt.color%>';
  <%="style_"+safe_name%>.fillColor = '<%=pt.color%>';
  <%="style_"+safe_name%>.graphicName = '<%=pt.graphicName%>';
  <%="style_"+safe_name%>.category = '<%=pt.category%>';
  <%="style_"+safe_name%>.pointRadius = <%=pt.pointRadius%>;
  <%="style_"+safe_name%>.strokeWidth = 3;
  <%="style_"+safe_name%>.rotation = 0;
  <%="style_"+safe_name%>.strokeLinecap = "butt";

    pt_styleMap.styles['default'].addRules([
        new OpenLayers.Rule({
            filter: new OpenLayers.Filter.Comparison({
            type: OpenLayers.Filter.Comparison.EQUAL_TO, property: "place_type", value: '<%=pt.name%>'
            }),
            symbolizer: <%="style_"+safe_name%>
        }),
        new OpenLayers.Rule({
            elseFilter: true
        })
    ]);

<% end %>

style_pcl_default = {strokeColor: "green", strokeOpacity: "0.3", strokeWidth: 1, cursor: "pointer", fillColor: "darkgreen", fillOpacity: "0.3", strokeDashstyle: "solid", title: '${name}', };

var pcl_sty = OpenLayers.Util.applyDefaults(style_pcl_default, OpenLayers.Feature.Vector.style["default"]);
pcl_styleMap = new OpenLayers.StyleMap({
            'default': pcl_sty,
            'select': {strokeColor: "darkred", fillColor: "darkred", strokeDashstyle: "solid"}
        });


style_rt_default = {strokeColor: "red", strokeOpacity: "0.7", strokeWidth: 3, cursor: "pointer", fillColor: "darkred", strokeDashstyle: "solid", title: '${name}', };

var sty = OpenLayers.Util.applyDefaults(style_rt_default, OpenLayers.Feature.Vector.style["default"]);
rt_styleMap = new OpenLayers.StyleMap({
            'default': sty,
            'select': {strokeColor: "darkred", fillColor: "darkred", strokeDashstyle: "solid"}
        });

ca_styleMap = new OpenLayers.StyleMap({
            'default': sty,
            'select': {strokeColor: "orange", fillColor: "orange", strokeDashstyle: "solid"}
        });

<% @items.each do |rt| %>
  <%="style_"+rt.id.to_s%> = OpenLayers.Util.extend({}, layer_style);
  <%="style_"+rt.id.to_s%>.strokeColor = '<%=rt.linestyle.linecolor%>';
  <%="style_"+rt.id.to_s%>.fillColor = '<%=rt.linestyle.linecolor%>';
  <%="style_"+rt.id.to_s%>.strokeWidth = 2;
  <%="style_"+rt.id.to_s%>.strokeLinecap = "butt";
  <%="style_"+rt.id.to_s%>.rotation = 0;
  <%="style_"+rt.id.to_s%>.strokeDashstyle = '<%=rt.linestyle.linetype%>';

    rt_styleMap.styles['default'].addRules([
        new OpenLayers.Rule({
            filter: new OpenLayers.Filter.Comparison({
            type: OpenLayers.Filter.Comparison.EQUAL_TO, property: "<%=@cat%>_id", value: '<%=rt.id.to_s%>'
            }),
            symbolizer: <%="style_"+rt.id.to_s%>
        })
    ]);

<% end %>

  style_notexperienced = OpenLayers.Util.extend({}, layer_style);
  style_notexperienced.strokeColor = '#888888'
  style_notexperienced.fillColor = '#8888888'
  style_notexperienced.strokeWidth = 2;
  style_notexperienced.strokeLinecap = "butt";
  style_notexperienced.rotation = 0;
  style_notexperienced.strokeDashstyle = 'solid'

    rt_styleMap.styles['default'].addRules([
        new OpenLayers.Rule({
            filter: new OpenLayers.Filter.Comparison({
            type: OpenLayers.Filter.Comparison.EQUAL_TO, property: "experienced_at", value: ''
            }),
            symbolizer: style_notexperienced
        }),
        new OpenLayers.Rule({
            elseFilter: true
        })
    ]);


}
